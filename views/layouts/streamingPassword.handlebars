<!DOCTYPE html>
<html>
  <head>
    <title>Streaming Services Login</title>
    <style>
      img {
        max-width: 100px;
        max-height: 50px;
        margin-right: 10px;
      }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.12/handlebars.min.js"></script>
  </head>
  <body>
    <h1>Select a streaming service:</h1>
    <select id="service-dropdown">
      <option value="netflix">Netflix</option>
      <option value="primevideo">Amazon Prime Video</option>
      <option value="disneyplus">Disney+</option>
      <option value="hbo">HBO</option>
      <option value="paramountplus">Paramount+</option>
    </select>

    <h2>Enter your login information:</h2>
    <form>
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" required><br>

      <label for="password">Password:</label>
      <input type="password" id="password" name="password" required><br>

      <button type="button" onclick="saveLogin()">Save Login</button>
    </form>

    <h2>Saved Logins:</h2>
    <ul id="logins-list"></ul>

    <script id="login-template" type="text/x-handlebars-template">
      {{#each logins}}
        <li data-service="{{service}}">
          <div>
            <img src="/images/{{service}}.png" alt="{{service}}">
            {{service}}
          </div>
          <div class="email-line">Email: {{email}}</div>
          <div class="password-line">Password: {{password}}</div>
        </li>
      {{/each}}
    </script>

    <script>
      var logins = [];

      var loginTemplateSource = document.getElementById("login-template").innerHTML;
      var loginTemplate = Handlebars.compile(loginTemplateSource);

      function saveLogin() {
        var serviceDropdown = document.getElementById("service-dropdown");
        var serviceName = serviceDropdown.options[serviceDropdown.selectedIndex].text;

        var emailInput = document.getElementById("email");
        var email = emailInput.value;

        var passwordInput = document.getElementById("password");
        var password = passwordInput.value;

        var existingLogin = logins.find(function(login) {
          return login.service === serviceName;
        });
        if (existingLogin) {
          existingLogin.email = email;
          existingLogin.password = password;
        } else {
          var newLogin = {
            service: serviceName,
            email: email,
            password: password
          };
          logins.push(newLogin);
        }

        var loginsList = document.getElementById("logins-list");
        var loginHtml = loginTemplate({ logins: logins });
        loginsList.innerHTML = loginHtml;

        emailInput.value = "";
        passwordInput.value = "";
      }
    </script>
  </body>
</html>
